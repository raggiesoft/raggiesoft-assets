/* root.css (The Silver Gauntlet of Aethel) */
/* v5.2 - Fixed: Hamburger Menu visibility in Light Mode */

/* --- 1. GLOBAL FONTS & CONSTANTS --- */
:root {
    --bs-font-sans-serif: 'EB Garamond', Georgia, serif;
    --bs-body-font-family: 'EB Garamond', Georgia, serif;
    --font-fantasy-header: 'Cinzel', serif;
    --transition-speed: 0.5s;
}

/* Base Transition Setup */
body, .navbar, .card, .tome-container, .era-card, .aethel-hero, #toc, #soundtrack {
    transition: background-color var(--transition-speed) ease, 
                color var(--transition-speed) ease, 
                border-color var(--transition-speed) ease,
                box-shadow var(--transition-speed) ease;
}

h1, h2, h3, h4, h5, h6, 
.display-1, .display-2, .display-3, .display-4, 
.navbar-brand, .cinzel-font {
    font-family: var(--font-fantasy-header);
    letter-spacing: 1px;
    font-weight: 700;
}

/* --- 2. LIGHT MODE (SUNSTEAD DAY) --- */
:root,
[data-bs-theme="light"] {
    color-scheme: light;

    /* Backgrounds: Warm Parchment */
    --bs-body-bg: #F9F5EB;
    --bs-body-bg-rgb: 249, 245, 235;
    
    /* Text: Dark Leather Brown */
    --bs-body-color: #2B1D1D;
    --bs-body-color-rgb: 43, 29, 29;

    /* Accents */
    --bs-primary: #8B4513;        /* Saddle Brown */
    --bs-primary-rgb: 139, 69, 19;
    
    --bs-secondary: #5c5c5c;      /* Stone Grey */
    --bs-secondary-rgb: 92, 92, 92;
    
    --bs-warning: #D4AF37;        /* Sun Gold */
    --bs-warning-rgb: 212, 175, 55;
    
    --bs-border-color: #D4C5A9;   /* Paper Border */
    --bs-border-color-translucent: rgba(43, 29, 29, 0.175);

    /* Links */
    --bs-link-color: #8B4513;
    --bs-link-hover-color: #D4AF37;

    /* Components */
    --bs-card-bg: #ffffff;
    --bs-card-border-color: #E5DCC5;
    
    /* Navbar: Dark Brown Leather look in Light Mode */
    --bs-navbar-bg: #3B2F2F;
    --bs-navbar-color: #F5E6C4;
    --bs-navbar-active-color: #D4AF37;
    --bs-navbar-brand-color: #D4AF37;

    /* --- FIX: TOGGLER OVERRIDES FOR LIGHT MODE --- */
   --bs-navbar-toggler-border-color: rgba(255, 255, 255, 0.1);
    --bs-navbar-toggler-icon-bg: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.55%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
}

/* --- 3. DARK MODE (SHADOWSPIRE NIGHT) --- */
[data-bs-theme="dark"] {
    color-scheme: dark;

    /* Backgrounds: Void Black */
    --bs-body-bg: #050505;
    --bs-body-bg-rgb: 5, 5, 5;
    
    /* Text: Bone White */
    --bs-body-color: #d1d5db;
    --bs-body-color-rgb: 209, 213, 219;

    /* Accents */
    --bs-primary: #9333ea;        /* Toxic Purple */
    --bs-primary-rgb: 147, 51, 234;
    
    --bs-secondary: #4b5563;      /* Basalt Grey */
    --bs-secondary-rgb: 75, 85, 99;
    
    --bs-warning: #fbbf24;        /* Fading Ember */
    --bs-warning-rgb: 251, 191, 36;
    
    --bs-border-color: #262626;   /* Dark Stone */
    --bs-border-color-translucent: rgba(255, 255, 255, 0.15);
    
    /* Links */
    --bs-link-color: #c084fc;
    --bs-link-hover-color: #ffffff;

    /* Components */
    --bs-card-bg: #0a0a0a;
    --bs-card-border-color: #333333;
    
    /* Navbar: Pitch Black in Dark Mode */
    --bs-navbar-bg: #000000;
    --bs-navbar-color: #9ca3af;
    --bs-navbar-active-color: #9333ea;
    --bs-navbar-brand-color: #9333ea;

    /* Standard Bootstrap White/Grey Toggler for Dark Mode */
    --bs-navbar-toggler-border-color: rgba(255, 255, 255, 0.1);
    --bs-navbar-toggler-icon-bg: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.55%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
}

/* --- 4. COMPONENT OVERRIDES --- */

/* Navbar */
header .navbar {
    background-color: var(--bs-navbar-bg) !important;
    border-bottom: 2px solid var(--bs-warning) !important; 
}
[data-bs-theme="dark"] header .navbar {
    border-bottom-color: var(--bs-primary) !important;
}

header .navbar-brand { color: var(--bs-navbar-brand-color) !important; }
header .nav-link { color: var(--bs-navbar-color) !important; }
header .nav-link.active, header .nav-link:hover { color: var(--bs-navbar-active-color) !important; }

/* Era Cards */
.era-card {
    background-color: var(--bs-card-bg);
    border: 1px solid var(--bs-card-border-color);
    color: var(--bs-body-color);
}
[data-bs-theme="light"] .era-card {
    box-shadow: 0 4px 6px rgba(139, 69, 19, 0.05);
}
[data-bs-theme="dark"] .era-card {
    background: linear-gradient(180deg, #1a1a1a 0%, #0d0d0d 100%);
    border: 1px solid #333;
}

/* Hover States */
[data-bs-theme="light"] .era-card:hover {
    transform: translateY(-5px);
    border-color: var(--bs-warning);
    box-shadow: 0 10px 15px rgba(212, 175, 55, 0.2);
}
[data-bs-theme="dark"] .era-card:hover {
    transform: translateY(-5px);
    border-color: var(--bs-primary); 
    box-shadow: 0 0 20px rgba(147, 51, 234, 0.2);
}

/* Hero Section */
.aethel-hero {
    position: relative;
    overflow: hidden;
    border-bottom: 4px solid var(--bs-warning);
    background-color: var(--bs-body-bg); 
    color: var(--bs-body-color);
}

[data-bs-theme="dark"] .aethel-hero {
    border-bottom-color: var(--bs-primary);
}

/* Text & Shadow Utilities */
.text-shadow-lg {
    text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
}
.text-shadow-sm {
    text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
}
.shadow-glow {
    box-shadow: 0 0 15px rgba(212, 175, 55, 0.5);
}
.letter-spacing-2 {
    letter-spacing: 2px;
}
.grayscale {
    filter: grayscale(100%);
    opacity: 0.6;
}
.opacity-90 {
    opacity: 0.9;
}
.backdrop-blur {
    backdrop-filter: blur(5px);
}