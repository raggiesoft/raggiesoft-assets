/* /assets/css/bootstrap-overrides.css */
/* Contains rules to ensure Bootstrap components use theme variables correctly */

/* Force override Bootstrap's base body styles */
/* This ensures the variables loaded from the theme file are applied */
body {
  background-color: var(--bs-body-bg);
  color: var(--bs-body-color);
}

/* Define base styles for components using theme variables */
.card {
  --bs-card-bg: var(--bs-tertiary-bg);
  --bs-card-color: var(--bs-body-color);
  --bs-card-border-color: var(--bs-border-color);
  /* Apply the variables using standard Bootstrap structure */
  background-color: var(--bs-card-bg);
  color: var(--bs-card-color);
  border-color: var(--bs-card-border-color);
}

.dropdown-menu {
  --bs-dropdown-bg: var(--bs-tertiary-bg);
  --bs-dropdown-link-color: var(--bs-tertiary-color);
  --bs-dropdown-link-hover-bg: var(--bs-secondary-bg-subtle);
  --bs-dropdown-border-color: var(--bs-border-color);
  /* Apply the variables */
  background-color: var(--bs-dropdown-bg);
  border-color: var(--bs-dropdown-border-color);
}
.dropdown-item {
   color: var(--bs-dropdown-link-color);
}
.dropdown-item:hover, .dropdown-item:focus {
   background-color: var(--bs-dropdown-link-hover-bg);
   /* Ensure hover text color contrasts if needed, often inherits fine */
   /* color: var(--bs-body-color); */
}


/* --- Specific component overrides needed for dark mode or theming --- */
@media (prefers-color-scheme: dark) {

  /* Fix navbar toggler icon color for dark mode */
  .navbar-toggler-icon {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(255, 255, 255, 0.55)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
  }

  /* Improve close button visibility in offcanvas/modals */
  .btn-close {
    filter: invert(1) grayscale(100%) brightness(200%);
  }

  /* Explicitly set the background for elements using bg-body-tertiary in dark mode */
  .bg-body-tertiary {
    background-color: var(--bs-tertiary-bg) !important;
  }

  /* Explicitly set the navbar brand color in dark mode */
  /* This targets the class directly for higher specificity */
  .navbar-brand {
     color: var(--bs-body-color);
  }

  /* --- FIX: AI Disclaimer Alert Colors in Dark Mode --- */
  .alert-warning {
    /* Override Bootstrap's dark mode text color (which our theme sets to black) */
    color: var(--bs-body-color); /* Starlight Grey */
  }
  .alert-warning .alert-heading {
    color: var(--bs-warning); /* Nebula Cyan */
  }
  .alert-warning .alert-link {
    color: var(--bs-warning); /* Nebula Cyan */
  }
  /* --- End Alert Fix --- */


} /* End of Dark Mode Media Query */


/* --- Optional Custom Utility Classes (Apply Regardless of Theme) --- */
.bg-about-section {
    background-color: var(--bs-secondary-bg-subtle);
}
/* Ensure heading color contrasts well on the subtle background */
.bg-about-section h1,
.bg-about-section h2,
.bg-about-section h3 {
    color: var(--bs-body-color); /* Use main body text color for headings */
}
/* Use muted text color for paragraphs in this section */
.bg-about-section p {
    color: var(--bs-secondary-color);
}

/*
 * ========================================
 * Animated Hamburger Icon Fix (v2)
 * ========================================
 */

/* 1. Reset the default Bootstrap toggler and set up our spans */
.navbar-toggler {
    /* Remove default Bootstrap icon */
    background-image: none;
    border: none;
    padding: 0;
    width: 30px; /* Set a fixed size for the icon */
    height: 24px;
    position: relative;
    transform: rotate(0deg);
    transition: .5s ease-in-out;
    cursor: pointer;
}

.navbar-toggler:focus {
    box-shadow: none; /* Remove the Bootstrap focus ring */
}

/* 2. Style the three hamburger bars */
.hamburger-bar {
    display: block;
    position: absolute;
    height: 3px;
    width: 100%;
    background: var(--bs-body-color); /* Use theme's text color */
    border-radius: 3px;
    opacity: 1;
    left: 0;
    transform: rotate(0deg);
    transition: .25s ease-in-out;
}

/* 3. This is the default "hamburger" state (button.collapsed) */
.hamburger-bar:nth-child(1) {
    top: 0px;
}

.hamburger-bar:nth-child(2) {
    top: 10px;
}

.hamburger-bar:nth-child(3) {
    top: 20px;
}

/* 4. This is the "X" state (button:not(.collapsed)) */
.navbar-toggler:not(.collapsed) .hamburger-bar:nth-child(1) {
    top: 10px;
    transform: rotate(135deg);
    background: var(--bs-danger); /* Optional: Change color to red on 'X' */
}

.navbar-toggler:not(.collapsed) .hamburger-bar:nth-child(2) {
    opacity: 0; /* Hide the middle bar */
    transform: translateX(-20px);
}

.navbar-toggler:not(.collapsed) .hamburger-bar:nth-child(3) {
    top: 10px;
    transform: rotate(-135deg);
    background: var(--bs-danger); /* Optional: Change color to red on 'X' */
}

/* 5. Fix for dark mode (the default bar color) */
@media (prefers-color-scheme: dark) {
    .hamburger-bar {
        background: var(--bs-body-color); /* Use the light text color in dark mode */
    }
}