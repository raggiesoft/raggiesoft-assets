/* * The Stardust Engine Theme (Astronomy/Cosmic Refactor)
 * WCAG AAA Compliant Colors
 */

:root {
    /* --- Core Palette (WCAG AAA Compliant) --- */
    --color-space-dark: #0D061A;       /* Very dark blue-purple, main background */
    --color-space-medium: #1C0F38;     /* Slightly lighter dark, for cards/sidebar */
    --color-space-light: #2A1D4F;      /* Even lighter dark, for hover/active states */

    --color-starlight-light: #E0E0FF;  /* Very light, slightly purplish white (main text) */
    --color-starlight-medium: #B8B8E0; /* Medium light grey-purple (secondary text) */
    --color-starlight-dark: #9090C0;   /* Darker grey-purple (disabled/subtle text) */

    --color-nebula-red: #FF4D6A;       /* Vibrant magenta-red (primary interactive) */
    --color-nebula-red-dark: #CC3D53;  /* Darker red for hover */

    --color-nebula-orange: #FFA04D;    /* Soft orange (secondary highlight) */
    --color-nebula-orange-dark: #CC803D; /* Darker orange for hover */

    --color-nebula-cyan: #00F0FF;      /* Bright cyan (links, special alerts) */
    --color-nebula-cyan-dark: #00BFCC; /* Darker cyan for hover */

    --color-nebula-blue: #4D7AFF;      /* Medium blue (less intense links, info) */
    --color-nebula-blue-dark: #3D62CC; /* Darker blue for hover */

    --color-nebula-green: #4DFF90;     /* Bright green (success messages) */
    --color-nebula-green-dark: #3DCC73; /* Darker green for hover */

    /* --- Bootstrap Overrides (Mapped to Theme Colors) --- */
    --bs-body-bg: var(--color-space-dark);
    --bs-body-color: var(--color-starlight-light);
    
    /* Utilities & Components Mappings */
    --bs-secondary-color: var(--color-starlight-medium);
    --bs-tertiary-color: var(--color-starlight-medium);
    --bs-emphasis-color: var(--color-starlight-light);
    --bs-heading-color: var(--color-starlight-light);
    --bs-link-color: var(--color-nebula-cyan);
    --bs-link-hover-color: var(--color-nebula-cyan-dark);
    --bs-border-color: var(--color-space-light);

    --bs-primary: var(--color-nebula-red);
    --bs-secondary: var(--color-starlight-medium);
    --bs-success: var(--color-nebula-green);
    --bs-info: var(--color-nebula-blue);
    --bs-warning: var(--color-nebula-orange);
    --bs-danger: var(--color-nebula-red);
    --bs-dark: var(--color-space-medium);

    /* Fix: Tertiary Backgrounds (Sidebar/Footer) */
    --bs-tertiary-bg: var(--color-space-medium);

    /* Fix: Modals */
    --bs-modal-bg: var(--color-space-medium);
    --bs-modal-color: var(--color-starlight-light);
    --bs-modal-border-color: var(--color-space-light);
    --bs-modal-header-border-color: var(--color-space-light);
    --bs-modal-footer-border-color: var(--color-space-light);

    /* --- FIX: Warning Subtles (The Alert Fix) --- */
    /* We map these to dark values so 'subtle' doesn't mean 'white' */
    --bs-warning-bg-subtle: #2E1A05; /* Deep Dark Amber */
    --bs-warning-border-subtle: var(--color-nebula-orange-dark);
    --bs-warning-text-emphasis: var(--color-nebula-orange);

    /* Custom Gradients */
    --gradient-primary: linear-gradient(90deg, var(--color-nebula-red) 0%, var(--color-nebula-orange) 100%);
    --gradient-secondary: linear-gradient(90deg, var(--color-nebula-cyan) 0%, var(--color-nebula-blue) 100%);
}

/* --- Base Body Styling --- */
body {
    font-family: 'Space Mono', monospace, sans-serif;
    background-color: var(--bs-body-bg);
    color: var(--bs-body-color);
    line-height: 1.6;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

/* --- Typography --- */
h1, h2, h3, h4, h5, h6 {
    font-family: 'Montserrat', sans-serif;
    color: var(--color-starlight-light);
    font-weight: 700;
}

.text-primary { color: var(--bs-primary) !important; }
.text-secondary { color: var(--bs-secondary) !important; }
.text-warning { color: var(--bs-warning) !important; }
.text-info { color: var(--bs-info) !important; }
.text-success { color: var(--bs-success) !important; }
.text-muted { color: var(--color-starlight-medium) !important; }
/* Fix text-body to be light */
.text-body { color: var(--bs-body-color) !important; }

.text-glow-primary {
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    filter: drop-shadow(0 0 5px var(--color-nebula-red));
}

.text-glow-warning {
    background: var(--gradient-secondary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    filter: drop-shadow(0 0 5px var(--color-nebula-cyan));
}

/* --- Links --- */
a {
    color: var(--bs-link-color);
    text-decoration: none;
    transition: color 0.3s ease, text-shadow 0.3s ease;
}
a:hover {
    color: var(--bs-link-hover-color);
    text-decoration: underline;
    text-shadow: 0 0 5px var(--bs-link-hover-color);
}
.nav-link {
    color: var(--color-starlight-light);
    font-weight: 500;
    transition: all 0.2s ease-in-out;
}
.nav-link:hover, .nav-link.active {
    color: var(--color-nebula-cyan) !important;
    transform: translateX(5px);
    text-shadow: 0 0 8px var(--color-nebula-cyan);
}
.nav-link.link-secondary {
    color: var(--color-starlight-medium) !important;
}
.nav-link.link-secondary:hover, .nav-link.link-secondary.active {
    color: var(--color-nebula-blue) !important;
    text-shadow: 0 0 5px var(--color-nebula-blue);
}

/* --- Buttons --- */
.btn-outline-primary { color: var(--bs-primary); border-color: var(--bs-primary); transition: all 0.2s ease-in-out; }
.btn-outline-primary:hover { background-color: var(--bs-primary); color: var(--color-space-dark); box-shadow: 0 0 10px var(--bs-primary); }

.btn-outline-secondary { color: var(--color-starlight-medium); border-color: var(--color-starlight-medium); }
.btn-outline-secondary:hover { background-color: var(--color-starlight-medium); color: var(--color-space-dark); box-shadow: 0 0 10px var(--color-starlight-medium); }

.btn-outline-success { color: var(--color-nebula-green); border-color: var(--color-nebula-green); }
.btn-outline-success:hover { background-color: var(--color-nebula-green); color: var(--color-space-dark); box-shadow: 0 0 10px var(--color-nebula-green); }

.btn-outline-warning { color: var(--color-nebula-orange); border-color: var(--color-nebula-orange); }
.btn-outline-warning:hover { background-color: var(--color-nebula-orange); color: var(--color-space-dark); box-shadow: 0 0 10px var(--color-nebula-orange); }

.btn-outline-info { color: var(--color-nebula-blue); border-color: var(--color-nebula-blue); }
.btn-outline-info:hover { background-color: var(--color-nebula-blue); color: var(--color-space-dark); box-shadow: 0 0 10px var(--color-nebula-blue); }

/* Fix Button Contrast */
.btn-primary {
    background-color: var(--bs-primary);
    border-color: var(--bs-primary);
    color: var(--color-space-dark) !important;
    font-weight: 700;
}
.btn-primary:hover {
    background-color: var(--color-nebula-red-dark);
    border-color: var(--color-nebula-red-dark);
    box-shadow: 0 0 15px var(--bs-primary);
}

/* --- Cards & Alerts --- */
.card {
    background-color: var(--color-space-medium);
    border-color: var(--color-space-light) !important;
    color: var(--color-starlight-light);
}
.card-header {
    background-color: var(--color-space-light) !important;
    border-color: var(--color-space-light) !important;
    color: var(--color-starlight-light);
}

.alert {
    background-color: var(--color-space-medium);
    border-color: var(--color-space-light);
    color: var(--color-starlight-light);
}
.alert-info {
    background-color: rgba(77, 122, 255, 0.1);
    border-color: var(--color-nebula-blue);
    color: var(--color-starlight-light);
}
.alert-dark {
    background-color: var(--color-space-medium);
    border-color: var(--color-space-light);
    color: var(--color-starlight-light);
}
.alert-dark.border-warning {
    border-color: var(--color-nebula-orange) !important;
}
.alert-dark.border-warning .alert-heading,
.alert-dark.border-warning .fa-solid {
    color: var(--color-nebula-orange) !important;
}

/* --- FIX: Override 'Subtle' utilities for the Welcome Alert --- */
/* Ensure the class uses the dark variable we defined */
.bg-warning-subtle {
    background-color: var(--bs-warning-bg-subtle) !important;
}
.border-warning-subtle {
    border-color: var(--bs-warning-border-subtle) !important;
}
/* Ensure text inside subtle alerts matches the emphasis color or body color */
.alert-warning .alert-heading, .alert-warning strong {
    color: var(--bs-warning-text-emphasis) !important;
}

/* --- Modals --- */
.modal-content {
    background-color: var(--bs-modal-bg);
    border: 1px solid var(--color-space-light);
    color: var(--bs-modal-color);
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
}
.btn-close {
    filter: invert(1) grayscale(100%) brightness(200%);
}

/* --- Table --- */
.table {
    --bs-table-bg: transparent;
    --bs-table-color: var(--color-starlight-light);
}
.table-hover > tbody > tr:hover > * {
    --bs-table-bg: var(--color-space-light);
}

/* --- Custom Components --- */
.album-art-header.variant-pact .card {
    border-color: var(--color-nebula-red) !important;
    box-shadow: 0 0 15px rgba(var(--bs-primary-rgb), 0.5);
}
.album-art-header.variant-warning .card {
    border-color: var(--color-nebula-orange) !important;
    box-shadow: 0 0 15px rgba(var(--bs-warning-rgb), 0.5);
}
.list-group-item[style*="rgba(255, 42, 109, 0.05)"] {
    background: rgba(var(--bs-primary-rgb), 0.15) !important;
    border-color: var(--color-nebula-red) !important;
    box-shadow: inset 0 0 10px rgba(var(--bs-primary-rgb), 0.2);
}
.list-group-item[style*="rgba(5, 217, 232, 0.05)"] {
    background: rgba(var(--color-nebula-cyan-rgb), 0.15) !important;
    border-color: var(--color-nebula-cyan) !important;
    box-shadow: inset 0 0 10px rgba(var(--color-nebula-cyan-rgb), 0.2);
}

/* Fix Sidebar Links in Dark Mode */
.bg-body-tertiary .nav-link {
    color: var(--color-starlight-medium) !important;
}
.bg-body-tertiary .nav-link:hover, .bg-body-tertiary .nav-link.active {
    color: var(--color-nebula-cyan) !important;
    background-color: rgba(0, 240, 255, 0.1);
}

/* --- Footer --- */
footer {
    background-color: var(--color-space-medium);
    color: var(--color-starlight-medium);
    border-top: 1px solid var(--color-space-light);
    padding-top: 2rem;
    padding-bottom: 2rem;
    margin-top: auto;
}
.opacity-25 { opacity: 0.25; }